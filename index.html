<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <title>Affirmation – En Daglig Inspiration</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        html, body {
            height: 100%;
            margin: 0;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(to bottom, #B3E5FC, #0D47A1);
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 40px 20px;
            text-align: center;
        }

        header {
            width: 100%;
        }

        h1 {
            font-size: 38px;
            color: #0D47A1;
            margin: 0 0 20px 0;
        }

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        h2 {
            font-size: 20px;
            margin-bottom: 30px;
            color: #1E88E5;
            font-weight: 400;
        }

        p, li {
            font-size: 20px;
            margin: 10px 0;
        }

        ul {
            list-style: none;
            text-align: left;
            display: inline-block;
            margin-top: 10px;
            padding-left: 0;
        }

        button {
            padding: 14px 30px;
            font-size: 22px;
            margin: 15px 0;
            border: none;
            border-radius: 8px;
            background-color: #FFD966;
            color: #0D47A1;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s, background-color 0.2s;
        }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        button:hover:not(:disabled) {
            transform: scale(1.05);
            background-color: #FFE58A;
        }

        .morning {
            color: #1E88E5;
            font-weight: 600;
        }

        .evening {
            color: #6A1B9A;
            font-weight: 600;
        }

        #inspirationImage {
            max-width: 90%;
            height: auto;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <header>
        <h1>Affirmation</h1>
        <h2>en healende måde at reflektere på</h2>
    </header>

    <div class="content">
        <img id="inspirationImage" src="" alt="Daglig inspiration">
        <button id="affirmBtn" onclick="showAffirmation()">Vis dagens selvreflektion</button>
        <p id="affirmation">Tryk på knappen for at få en inspirerende handling</p>
        <ul id="todos"></ul>
    </div>

    <script>
        // Tilfældige billeder (100 forskellige)
        const randomImageNumber = Math.floor(Math.random() * 100) + 1;
        const imageUrl = `https://source.unsplash.com/600x400/?nature,smile,happy&sig=${randomImageNumber}`;
        document.getElementById("inspirationImage").src = imageUrl;

        const morningAffirmations = [
            "I dag starter jeg med ro og glæde.",
            "Jeg vælger at være stærk og positiv.",
            "Min energi åbner nye muligheder.",
            "Jeg er fokuseret og klar til dagen.",
            "Jeg tager ansvar for min egen lykke.",
            "Jeg møder dagen med et åbent hjerte.",
            "Jeg tiltrækker gode oplevelser.",
            "Jeg har tillid til mig selv.",
            "Jeg er taknemmelig for alt, jeg har.",
            "Jeg vælger glæde i hvert øjeblik."
        ];

        const eveningAffirmations = [
            "Jeg slipper dagen med taknemmelighed.",
            "Jeg fortjener hvile og fred.",
            "Jeg sender kærlige tanker til mig selv.",
            "Jeg reflekterer over dagens gode øjeblikke.",
            "Jeg tilgiver mig selv og andre.",
            "Jeg lader bekymringerne falde.",
            "Jeg er stolt af mig selv i dag.",
            "Jeg fylder mig selv med ro.",
            "Jeg giver mig selv kærlighed og omsorg.",
            "Jeg forbereder mig på en god nats søvn."
        ];

        const morningTodos = [
            ["Tag dyb vejrtrækning", "Skriv 3 ting du vil opnå", "Start dagen med et smil", "Lav et glas vand", "Gentag en positiv sætning"],
            ["Lav en positiv liste", "Tag et kort gåture", "Gentag en positiv sætning", "Planlæg dagens vigtigste opgave", "Visualiser succes"],
            ["Prøv en ny aktivitet", "Planlæg en lille succes", "Drik et glas vand", "Lav taknemmelighedsliste", "Start med musik du elsker"],
            ["Fokusér på én opgave", "Lav morgenritual", "Visualiser dagens succes", "Send kærlige tanker", "Skriv dagens intention"],
            ["Skriv hvad der gør dig glad", "Prioriter dagens vigtigste opgave", "Tal venligt til dig selv", "Lav kort meditation", "Planlæg sjove oplevelser"],
            ["Start med åbent hjerte", "Send kærlige tanker", "Planlæg glædesøjeblik", "Gentag positiv sætning", "Lav taknemmelighedsliste"],
            ["Sæt mål om sjove oplevelser", "Vær opmærksom på små glæder", "Lav noget kreativt", "Drik et glas vand", "Visualiser succes"],
            ["Gentag positiv sætning højt", "Lav kort meditation", "Vær opmærksom på omgivelserne", "Lav taknemmelighedsliste", "Start dagen med smil"],
            ["Lav taknemmelighedsliste", "Hils på en venlig person", "Skriv dagens intention", "Gentag positiv sætning", "Lav kort meditation"],
            ["Vælg glædelig handling", "Del noget positivt", "Start dagen med musik", "Skriv 3 ting du værdsætter", "Lav taknemmelighedsliste"]
        ];

        const eveningTodos = [
            ["Skriv 3 ting du er taknemmelig for", "Tag et varmt bad", "Lyt til beroligende musik", "Læs lidt", "Lav kort meditation"],
            ["Luk dagen med et smil", "Læs en bog inden sengetid", "Lav vejrtrækning", "Skriv dagens læring", "Planlæg positiv morgen"],
            ["Skriv kærligt brev til dig selv", "Mediter et par minutter", "Sig noget venligt til dig selv", "Lav taknemmelighedsliste", "Visualiser ro"],
            ["Reflekter over små sejre", "Skriv dagens læring", "Planlæg positiv morgen", "Lyt til afslappende musik", "Lav vejrtrækning"],
            ["Lav fred med dagens fejltrin", "Tilgiv dig selv og andre", "Lav afslappende rutine", "Tag et varmt bad", "Lyt til musik"],
            ["Lad bekymringer falde", "Sluk skærme 30 min før sengetid", "Drik kop urtete", "Lav kort meditation", "Skriv 3 ting du værdsætter"],
            ["Tæl dagens præstationer", "Ros dig selv for små ting", "Lav kort meditation", "Lyt til musik", "Planlæg positiv morgen"],
            ["Fyld dig med ro", "Lyt til afslappende musik", "Lav afslappende vejrtrækning", "Skriv 3 ting du værdsætter", "Lav kort meditation"],
            ["Giv dig selv kærlighed og omsorg", "Skriv ned hvad du værdsætter", "Tag et øjeblik i stilhed", "Lav kort meditation", "Lyt til musik"],
            ["Forbered dig på god søvn", "Sørg for mørkt og roligt soveområde", "Lav kort afslapningsritual", "Skriv dagens læring", "Lyt til afslappende musik"]
        ];

        const btn = document.getElementById("affirmBtn");

        function showAffirmation() {
            const now = new Date();
            const hour = now.getHours();
            const affirmationElement = document.getElementById("affirmation");
            let affirmation, todos;

            // Definer nøgle til morning/afternoon tæller
            const period = (hour < 12) ? "morning" : "evening";
            const todayKey = "affirmClicks_" + period + "_" + now.toDateString();
            let clicks = parseInt(localStorage.getItem(todayKey)) || 0;

            if (clicks >= 3) {
                alert("Du har allerede brugt dagens maksimale antal tryk for denne periode. Prøv igen senere.");
                btn.disabled = true;
                return;
            }

            // Vælg affirmation
            if (period === "morning") {
                const idx = Math.floor(Math.random() * morningAffirmations.length);
                affirmation = morningAffirmations[idx];
                todos = getRandomTodos(morningTodos[idx]);
                affirmationElement.textContent = "Morgeninspiration: " + affirmation;
                affirmationElement.className = "morning";
            } else {
                const idx = Math.floor(Math.random() * eveningAffirmations.length);
                affirmation = eveningAffirmations[idx];
                todos = getRandomTodos(eveningTodos[idx]);
                affirmationElement.textContent = "Afteninspiration: " + affirmation;
                affirmationElement.className = "evening";
            }

            const ul = document.getElementById("todos");
            ul.innerHTML = "";
            todos.forEach(todo => {
                const li = document.createElement("li");
                li.textContent = "⭐ " + todo;
                ul.appendChild(li);
            });

            // Opdater tæller
            clicks++;
            localStorage.setItem(todayKey, clicks);
            if (clicks >= 3) btn.disabled = true;
        }

        function getRandomTodos(todoArray) {
            const copy = [...todoArray];
            copy.sort(() => Math.random() - 0.5);
            return copy.slice(0, 3);
        }

        // Ved indlæsning: deaktiver knap hvis max allerede nået
        const nowCheck = new Date();
        const periodCheck = (nowCheck.getHours() < 12) ? "morning" : "evening";
        const keyCheck = "affirmClicks_" + periodCheck + "_" + nowCheck.toDateString();
        const clicksCheck = parseInt(localStorage.getItem(keyCheck)) || 0;
        if (clicksCheck >= 3) btn.disabled = true;

    </script>
</body>
</html>
